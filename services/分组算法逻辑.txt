# 打分逻辑
1. 用户互选打分逻辑
|男1对女生的排序|对应的“优先级得分”|设计思路|
|第 1 名|100 分|满分，代表“我的最爱”。|
|第 2 名|90 分|与第一名拉开显著差距。|
|第 3 名|80 分|依然是非常靠前的选择。|
|第 4 名|70 分|中等偏上的选择。|
|第 5 名|65 分|从这里开始，差距减小，代表“还不错”。|
|第 6 名|60 分|备选中的靠后选择。|
|第 7 名|55 分|勉强入选，分数较低。|

2. 红娘打分逻辑

|红娘星级|对应的“红娘分数”|解读|
|5 stars|100 分|“完美，我力荐！”|
|4 stars|90 分|“很看好，潜力巨大。”|
|3 stars|80 分|“不错，匹配度良好。”|
|2 stars|75 分|“可以，符合基本要求。”|
|1 stars|70 分|“勉强通过，可以接触试试。”|

3. 加权分
权重方案 (用户主导型):
- 权重A (用户选择) = 0.7 (70%)
- 权重B (红娘判断) = 0.3 (30%)
最终计算公式：
 单向总分 = (优先级得分 × 0.7) + (转换后的红娘分数 × 0.3)

# 分组逻辑

#### 第一步：数据准备 - 计算“互有好感分数 (Mutual Affinity Score)”
1. 获取所有可能的男女配对：对于每一个男生A和每一个女生B，您都有一个A→B的分数。同时，您也有一个B→A的分数。
2. 计算互有好感分数：将这两个单向分数合并成一个分数。最简单直接的方法是相加。
    - 互有好感分数(A, B) = 分数(A→B) + 分数(B→A)
3. 创建“配对总表”：现在，您有了一个包含所有可能配对（75男 x 75女 = 5625个配对）的总列表，每个配对都有一个“互有好感分数”。
4. 排序：将这个“配对总表”从高到低进行排序。排名第一的，就是全场150人中“最双向奔赴”的一对。

#### 第二步：分组算法 - “核心-卫星”滚动分组法
现在我们有了排序好的配对总表，可以开始分组了。我们将创建25个小组（150 / 6 = 25）。
循环1到25次，每次创建一个小组：
1. 寻找小组核心：
    - 从“配对总表”的顶端，选出尚未被分组的、分数最高的配对（例如，男生A和女生B）。
    - 这对情侣就成为了新小组的**“核心”**。
    - 将A和B标记为“已分组”。
2. 扩充小组（添加第3、4、5、6人）：
    - 现在小组里有1男1女。我们需要再加入2个男生和2个女生。
    - 寻找下一个成员：遍历所有未被分组的人（无论是男是女）。对于每个候选人C，计算他/她与小组内现有成员的“亲和力总分”。
        - 亲和力总分(C) = 互有好感分数(C, A) + 互有好感分数(C, B)
            - 猴哥补充：第二次算一个男生，或一个女生，即重复第一次的算法，因为是单性恋；从第四个人开始，才是这个算法；也就是说，第1、2次算的人数相同，第3四次算的人数相同，以此类推；
        - （注意：这里的互有好感分数，如果C和A是同性，可以计为0，或者如果有同性打分也可以算上，取决于您的活动设计）
    - 选择那个**“亲和力总分”最高**的候选人（例如，女生D），将她加入小组，并标记为“已分组”。
3. 重复扩充：
    - 现在小组有1男2女（A, B, D）。我们继续寻找第4个成员。
    - 再次遍历所有未被分组的人（候选人E）。计算他/她与小组内现有3名成员的亲和力总分。
        - 亲和力总分(E) = 互有好感分数(E, A) + 互有好感分数(E, B) + 互有好感分数(E, D)
    - 选择分数最高的候选人E，将他加入小组，并标记为“已分组”。
4. 完成小组：
    - 重复这个过程，直到小组内有6名成员（大概率是3男3女）。
    - 至此，第一个小组创建完毕。
5. 继续下一组：
    - 返回第一步（寻找小组核心），从“配对总表”中继续向下寻找下一个尚未被分组的、分数最高的配对，开启第二个小组的创建流程。
直到所有150人都被分完为止。
